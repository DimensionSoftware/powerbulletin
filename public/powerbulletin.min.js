(function(){var e=function(n,o){var r=e.resolve(n,o||"/"),t=e.modules[r];if(!t)throw Error("Failed to resolve module "+n+", tried "+r);var i=e.cache[r],s=i?i.exports:t();return s};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json",".ls"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(n,o){function r(n){if(n=a.normalize(n),e.modules[n])return n;for(var o=0;e.extensions.length>o;o++){var r=e.extensions[o];if(e.modules[n+r])return n+r}}function t(n){n=n.replace(/\/+$/,"");var o=a.normalize(n+"/package.json");if(e.modules[o]){var t=e.modules[o](),i=t.browserify;if("object"==typeof i&&i.main){var s=r(a.resolve(n,i.main));if(s)return s}else if("string"==typeof i){var s=r(a.resolve(n,i));if(s)return s}else if(t.main){var s=r(a.resolve(n,t.main));if(s)return s}}return r(n+"/index")}function i(e,n){for(var o=s(n),i=0;o.length>i;i++){var a=o[i],u=r(a+"/"+e);if(u)return u;var l=t(a+"/"+e);if(l)return l}var u=r(e);return u?u:void 0}function s(e){var n;n="/"===e?[""]:a.normalize(e).split("/");for(var o=[],r=n.length-1;r>=0;r--)if("node_modules"!==n[r]){var t=n.slice(0,r+1).join("/")+"/node_modules";o.push(t)}return o}if(o||(o="/"),e._core[n])return n;var a=e.modules.path();o=a.resolve("/",o);var u=o||"/";if(n.match(/^(?:\.\.?\/|\/)/)){var l=r(a.resolve(u,n))||t(a.resolve(u,n));if(l)return l}var c=i(n,u);if(c)return c;throw Error("Cannot find module '"+n+"'")}}(),e.alias=function(n,o){var r=e.modules.path(),t=null;try{t=e.resolve(n+"/package.json","/")}catch(i){t=e.resolve(n,"/")}for(var s=r.dirname(t),a=(Object.keys||function(e){var n=[];for(var o in e)n.push(o);return n})(e.modules),u=0;a.length>u;u++){var l=a[u];if(l.slice(0,s.length+1)===s+"/"){var c=l.slice(s.length);e.modules[o+c]=e.modules[s+c]}else l===s&&(e.modules[o]=e.modules[s])}},function(){var n={},o="undefined"!=typeof window?window:{},r=!1;e.define=function(t,i){!r&&e.modules.__browserify_process&&(n=e.modules.__browserify_process(),r=!0);var s=e._core[t]?"":e.modules.path().dirname(t),a=function(n){var o=e(n,s),r=e.cache[e.resolve(n,s)];return r&&null===r.parent&&(r.parent=u),o};a.resolve=function(n){return e.resolve(n,s)},a.modules=e.modules,a.define=e.define,a.cache=e.cache;var u={id:t,filename:t,exports:{},loaded:!1,parent:null};e.modules[t]=function(){return e.cache[t]=u,i.call(u.exports,a,u,u.exports,s,t,n,o),u.loaded=!0,u.exports}}}(),e.define("path",function(e,n,o,r,t,i){function s(e,n){for(var o=[],r=0;e.length>r;r++)n(e[r],r,e)&&o.push(e[r]);return o}function a(e,n){for(var o=0,r=e.length;r>=0;r--){var t=e[r];"."==t?e.splice(r,1):".."===t?(e.splice(r,1),o++):o&&(e.splice(r,1),o--)}if(n)for(;o--;o)e.unshift("..");return e}var u=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;o.resolve=function(){for(var e="",n=!1,o=arguments.length;o>=-1&&!n;o--){var r=o>=0?arguments[o]:i.cwd();"string"==typeof r&&r&&(e=r+"/"+e,n="/"===r.charAt(0))}return e=a(s(e.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+e||"."},o.normalize=function(e){var n="/"===e.charAt(0),o="/"===e.slice(-1);return e=a(s(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&o&&(e+="/"),(n?"/":"")+e},o.join=function(){var e=Array.prototype.slice.call(arguments,0);return o.normalize(s(e,function(e){return e&&"string"==typeof e}).join("/"))},o.dirname=function(e){var n=u.exec(e)[1]||"",o=!1;return n?1===n.length||o&&3>=n.length&&":"===n.charAt(1)?n:n.substring(0,n.length-1):"."},o.basename=function(e,n){var o=u.exec(e)[2]||"";return n&&o.substr(-1*n.length)===n&&(o=o.substr(0,o.length-n.length)),o},o.extname=function(e){return u.exec(e)[3]||""}}),e.define("__browserify_process",function(e,n,o,r,t,i){var i=n.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var o=[];return window.addEventListener("message",function(e){if(e.source===window&&"browserify-tick"===e.data&&(e.stopPropagation(),o.length>0)){var n=o.shift();n()}},!0),function(e){o.push(e),window.postMessage("browserify-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(n){if("evals"===n)return e("vm");throw Error("No such module. (Possibly not yet loaded)")},function(){var n,o="/";i.cwd=function(){return o},i.chdir=function(r){n||(n=e("path")),o=n.resolve(r,o)}}()}),e.define("/validations.ls",function(e,n,o){(function(){var e,n=o!==void 0&&o||this;n.myvalidation=e=function(){return console.log("whee test")}}).call(this)}),e.define("/layout.ls",function(e){(function(){function n(e,n){for(var o=-1,r=n.length>>>0;r>++o;)if(e===n[o]&&o in n)return!0;return!1}var o,r,t,i,s,a,u,l,c;o=$(window),r=$(document),t=!1||n("msTransform",document.documentElement.style),i=!1||n("MozBoxSizing",document.documentElement.style),s=!(!window.opera||!window.opera.version),a=10,o.v=e("./validations"),$("#query").focus(),$(".forum .container").masonry({itemSelector:".post",isAnimated:!0,isFitWidth:!0,isResizable:!0}),o.resize(function(){return setTimeout(function(){return $.waypoints("refresh")},800)}),setTimeout(function(){return $(".forum").waypoint({offset:"33%",handler:function(e){var n,r,t,i,s,a;return n=$(this),r=n.attr("id"),t="down"===e?r:$("#"+r).prevAll(".forum:first").attr("id"),$("header .menu").find(".active").removeClass("active"),i=$("header .menu").find("."+t.replace(/_/,"-")).addClass("active"),$(".bg").each(function(){return $(this).remove().prependTo($("body"))}),o.bgAnim&&clearTimeout(o.bgAnim),s=$(".bg.active"),s.length?o.bgAnim=setTimeout(function(){var n;return n=$("#forum"+("_bg_"+i.data("id"))),s.css("top","down"===e?-300:300),s.removeClass("active"),n.addClass("active visible"),o.bgAnim=0},300):(a=$("#forum"+("_bg_"+i.data("id"))),a.addClass("active"))}})},100),u=function(){var e;return e=o.scrollTop(),$("body").toggleClass("has-scrolled",e>a)},setTimeout(function(){return o.on("scroll",function(){return u()}),u()},1300),window.awesomeScrollTo=function(e,n,o){var r,i,a,u;return n=function(){var e;return n?void 0:e=1},e=$(e),r=o||600,i=100,t||s?(e[0].scrollIntoView(),n()):(a=Math.round(e.position().top)-i,u=window.scrollY,Math.abs(a-u)>30?$("html,body").animate({scrollTop:a},r,function(){}):n()),e},r.on("mousedown",".scroll-to",function(){return awesomeScrollTo($(this).data("scroll-to")),!1}),r.on("mousedown",".scroll-to-top",function(){return $(this).attr("title","Scroll to Top!"),$("html,body").animate({scrollTop:$("body").offset().top},140,function(){return $("html,body").animate({scrollTop:$("body").offset().top+a},110,function(){return $("html,body").animate({scrollTop:$("body").offset().top},75,function(){return!1})})})}),l=function(){var e,n;return e=$(this).data("fid"),n="<h1>add post form goes here</h1>",$.get("/ajax/add-post",{fid:e},function(e){return $(e).dialog({modal:!0}),!1})},c=function(){var e;return e=$("#add-post-form"),$.post("/ajax/add-post",e.serialize(),function(){return console.log("success! post added"),console.log("stub: do something fancy to confirm submission")}),!1},r.on("click","#add-post-submit",c),r.on("click",".onclick-add-post-dialog",l),r.on("click","header",function(e){return"header"===e.target.className&&$("body").removeClass("expanded"),$("#query").focus()}),r.on("keypress","#query",function(){return $("body").addClass("expanded")})}).call(this)}),e("/layout.ls")})();