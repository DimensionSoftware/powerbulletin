(function(){var e=function(n,r){var t=e.resolve(n,r||"/"),o=e.modules[t];if(!o)throw Error("Failed to resolve module "+n+", tried "+t);var i=e.cache[t],s=i?i.exports:o();return s};e.paths=[],e.modules={},e.cache={},e.extensions=[".js",".coffee",".json",".ls"],e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0},e.resolve=function(){return function(n,r){function t(n){if(n=a.normalize(n),e.modules[n])return n;for(var r=0;e.extensions.length>r;r++){var t=e.extensions[r];if(e.modules[n+t])return n+t}}function o(n){n=n.replace(/\/+$/,"");var r=a.normalize(n+"/package.json");if(e.modules[r]){var o=e.modules[r](),i=o.browserify;if("object"==typeof i&&i.main){var s=t(a.resolve(n,i.main));if(s)return s}else if("string"==typeof i){var s=t(a.resolve(n,i));if(s)return s}else if(o.main){var s=t(a.resolve(n,o.main));if(s)return s}}return t(n+"/index")}function i(e,n){for(var r=s(n),i=0;r.length>i;i++){var a=r[i],u=t(a+"/"+e);if(u)return u;var l=o(a+"/"+e);if(l)return l}var u=t(e);return u?u:void 0}function s(e){var n;n="/"===e?[""]:a.normalize(e).split("/");for(var r=[],t=n.length-1;t>=0;t--)if("node_modules"!==n[t]){var o=n.slice(0,t+1).join("/")+"/node_modules";r.push(o)}return r}if(r||(r="/"),e._core[n])return n;var a=e.modules.path();r=a.resolve("/",r);var u=r||"/";if(n.match(/^(?:\.\.?\/|\/)/)){var l=t(a.resolve(u,n))||o(a.resolve(u,n));if(l)return l}var c=i(n,u);if(c)return c;throw Error("Cannot find module '"+n+"'")}}(),e.alias=function(n,r){var t=e.modules.path(),o=null;try{o=e.resolve(n+"/package.json","/")}catch(i){o=e.resolve(n,"/")}for(var s=t.dirname(o),a=(Object.keys||function(e){var n=[];for(var r in e)n.push(r);return n})(e.modules),u=0;a.length>u;u++){var l=a[u];if(l.slice(0,s.length+1)===s+"/"){var c=l.slice(s.length);e.modules[r+c]=e.modules[s+c]}else l===s&&(e.modules[r]=e.modules[s])}},function(){var n={},r="undefined"!=typeof window?window:{},t=!1;e.define=function(o,i){!t&&e.modules.__browserify_process&&(n=e.modules.__browserify_process(),t=!0);var s=e._core[o]?"":e.modules.path().dirname(o),a=function(n){var r=e(n,s),t=e.cache[e.resolve(n,s)];return t&&null===t.parent&&(t.parent=u),r};a.resolve=function(n){return e.resolve(n,s)},a.modules=e.modules,a.define=e.define,a.cache=e.cache;var u={id:o,filename:o,exports:{},loaded:!1,parent:null};e.modules[o]=function(){return e.cache[o]=u,i.call(u.exports,a,u,u.exports,s,o,n,r),u.loaded=!0,u.exports}}}(),e.define("path",function(e,n,r,t,o,i){function s(e,n){for(var r=[],t=0;e.length>t;t++)n(e[t],t,e)&&r.push(e[t]);return r}function a(e,n){for(var r=0,t=e.length;t>=0;t--){var o=e[t];"."==o?e.splice(t,1):".."===o?(e.splice(t,1),r++):r&&(e.splice(t,1),r--)}if(n)for(;r--;r)e.unshift("..");return e}var u=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;r.resolve=function(){for(var e="",n=!1,r=arguments.length;r>=-1&&!n;r--){var t=r>=0?arguments[r]:i.cwd();"string"==typeof t&&t&&(e=t+"/"+e,n="/"===t.charAt(0))}return e=a(s(e.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+e||"."},r.normalize=function(e){var n="/"===e.charAt(0),r="/"===e.slice(-1);return e=a(s(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&r&&(e+="/"),(n?"/":"")+e},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(s(e,function(e){return e&&"string"==typeof e}).join("/"))},r.dirname=function(e){var n=u.exec(e)[1]||"",r=!1;return n?1===n.length||r&&3>=n.length&&":"===n.charAt(1)?n:n.substring(0,n.length-1):"."},r.basename=function(e,n){var r=u.exec(e)[2]||"";return n&&r.substr(-1*n.length)===n&&(r=r.substr(0,r.length-n.length)),r},r.extname=function(e){return u.exec(e)[3]||""}}),e.define("__browserify_process",function(e,n,r,t,o,i){var i=n.exports={};i.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(n){var r=[];return window.addEventListener("message",function(e){if(e.source===window&&"browserify-tick"===e.data&&(e.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(e){r.push(e),window.postMessage("browserify-tick","*")}}return function(e){setTimeout(e,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.binding=function(n){if("evals"===n)return e("vm");throw Error("No such module. (Possibly not yet loaded)")},function(){var n,r="/";i.cwd=function(){return r},i.chdir=function(t){n||(n=e("path")),r=n.resolve(t,r)}}()}),e.define("/validations.ls",function(e,n,r){(function(){var e,n=r!==void 0&&r||this;n.myvalidation=e=function(){return console.log("whee test")}}).call(this)}),e.define("/layout.ls",function(e){(function(){var n,r,t,o,i,s;window.v=e("./validations"),n=$(window),r=$(document),t=10,o=function(){var e;return e=n.scrollTop(),$("body").toggleClass("has-scrolled",e>t)},setTimeout(function(){return n.on("scroll",function(){return o()}),o()},1300),$(".scroll-to-top").each(function(){var e;return e=$(this),e.attr("title","Scroll to Top!"),e.on("mousedown",function(){return $("html,body").animate({scrollTop:$("body").offset().top},140,function(){return $("html,body").animate({scrollTop:$("body").offset().top+t},110,function(){return $("html,body").animate({scrollTop:$("body").offset().top},75,function(){})})})})}),$("#query").focus(),$(".forum .container").masonry({itemSelector:".post",isAnimated:!0,isFitWidth:!0,isResizable:!0}),n.resize(function(){return setTimeout(function(){return $.waypoints("refresh")},800)}),setTimeout(function(){return $(".forum").waypoint({offset:"33%",handler:function(e){var r,t,o,i,s,a;return r=$(this),t=r.attr("id"),o="down"===e?t:$("#"+t).prevAll(".forum:first").attr("id"),$("header .menu").find(".active").removeClass("active"),i=$("header .menu").find("."+o.replace(/_/,"-")).addClass("active"),n.bgAnim&&clearTimeout(n.bgAnim),s=$(".bg.active"),s.length?n.bgAnim=setTimeout(function(){var r;return r=$("#forum"+("_bg_"+i.data("id"))),s.css("top","down"===e?-300:300),s.removeClass("active"),r.addClass("active visible"),n.bgAnim=0},300):(a=$("#forum"+("_bg_"+i.data("id"))),a.addClass("active"))}})},100),i=function(){var e,n;return e=$(this).data("fid"),n="<h1>add post form goes here</h1>",$.get("/ajax/add-post",{fid:e},function(e){return $(e).dialog({modal:!0}),!1})},s=function(){var e;return e=$("#add-post-form"),$.post("/ajax/add-post",e.serialize(),function(){return console.log("success! post added"),console.log("stub: do something fancy to confirm submission")}),!1},r.on("click","#add-post-submit",s),r.on("click",".onclick-add-post-dialog",i),r.on("click","header",function(e){return"header"===e.target.className&&$("body").removeClass("expanded"),$("#query").focus()}),r.on("keypress","#query",function(){return $("body").addClass("expanded")})}).call(this)}),e("/layout.ls")})();