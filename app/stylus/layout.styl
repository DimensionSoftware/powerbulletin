
// XXX below defines the layout's skeleton
// XXX decoration & embellishments belong in the theme.styl
// XXX eventually each forum will have its own theme.{styl,css}

header-height          = 50px
header-scrolled-height = 30px

forum-header-height = 0
footer-height       = 32px
left-content-width  = 210px

@import './app/stylus/states_layout'

section
  box-sizing border-box

body
  grid(90%,100%)
  overflow visible!important
  a
    cursor pointer
  .scroll-to, .scroll-to-top
    cursor pointer

//{{{ Header
.logo
  margin 0
  padding 0
  a
    margin-top 15px
    vertical-align top
    font-size .75em
    text-decoration none
    font-weight 200
    letter-spacing -2px
    position fixed
    top 1px
    left 18px
    z-index 10
    strong
      letter-spacing -1px
      font-weight 500
      padding-left 4px
header
  position fixed
  height header-height
  top 0
  z-index 9
  .close
    display none
  .container
    width 800px
    margin 0 auto
    .menu
      padding 0
      margin -3px auto 0 auto
      display inline-block
      position absolute
      bottom 0
      > .row
          position relative!important
          z-index 50!important
        .title
          display inline-block
          text-transform capitalize
          padding 0 19px
      .row.active, .row:hover
        z-index 7
        .submenu
          opacity 1
          top 53px
          min-width 250px
          transition top .25s ease-out .3s, opacity .3s ease-out .4s
          .row:hover
            text-indent 19px
            transition text-indent .1s ease-out
      .row
        cursor pointer
        display inline-block
        line-height header-height
        font-size 16px
        .title
          position relative
          z-index 55
        .submenu
          z-index 65
          top -600px
          max-height 450px
          overflow-y scroll
          opacity 0
          position absolute
          padding 0
          margin 0
          .row:first-child
            padding-top (grid/2)
          .row:last-child
            padding-bottom (grid/2)
          .row
            display block
            font-size 14px
            text-indent (grid * 2)
            a
              display block
    .search
      top 13px
      right 12px
      position absolute 
      .query
        width 300px
        font-size 1.3em
    .advanced
      position absolute
      right -800px
//}}}
//{{{ Left side
#left_content
  position fixed
  left 0
  bottom 0
  top (header-height+2)
  height auto
  width left-content-width
  width 200px
  z-index 8
  padding-top (grid*3)
  .photo
    margin-top 8px
  .handle
    border-radius 20px
    line-height 28px
    font-size .9em
    height 30px
    width 30px
    margin-top (grid/2)
    top (header-height - (grid*2))
    right -26px
    cursor pointer
    position absolute
    text-align center
    cursor pointer
    z-index 95
//}}}
//{{{ Main Content
.col1
  width 425px
.col2
  width 425px

.photo
  overflow hidden
  float left
  padding 2px
  margin-right grid
  width 35px
  height 35px
  float left
  img
    width 100%

#main_content
  grid(100%, 800px)
  padding forum-header-height 0 0 0!important
  padding-top (grid*8)!important
  z-index 5
  #breadcrumb
    top -100px
    position fixed
  .breadcrumb
    margin-bottom (grid/2)
    text-transform capitalize
    a, em, span
      text-transform capitalize
      padding-right (grid/2)
      margin-right 3px
  .resizable
    padding-left left-content-width
  .scroll-to-top
      clear both
//}}}
//{{{ Footer
footer
  text-align center
  position fixed
  bottom 0
  right 0
  left 0
  height footer-height
  z-index 9
  width auto
//}}}

//{{{ Login
.fancybox-wrap.on-validate
  .validate
    display block!important
    .msg
      h3
        margin-top (grid*2)!important
  .register, .login
    display none!important
.fancybox-wrap.on-register
  #auth
    .register
      display block!important
    .choose, .login, .forgot
      display none!important
.fancybox-wrap.on-choose
  #auth
    h3
    .choose
      display block!important
    .login, .forgot
      display none!important
    .msg
      visibility hidden
.fancybox-wrap.on-forgot
  #auth
    .forgot
      display block!important
    .login, .choose
      display none!important
.fancybox-wrap.on-error
  #auth
    .msg
      height 30px
      opacity 1
      transition height .5s, opacity 1s
#auth
  .choose, .forgot, .register
    h3
      margin-top (grid+2)
      float right
    input[type='submit']
      margin-top 3px
  .error
    display none
  h2
    margin 15px 0 20px 15px
    letter-spacing 1px
  h3
    margin 0 0 10px 0
  .social
    margin 20px auto
    width 313px
    a
      text-decoration none
  fieldset
    padding 20px 102px
  input[name="email"]
    width 286px
    padding 15px
  input[name="username"]
    width 300px
    display block
  input[name="password"]
    width 300px
  input[type="submit"]
    height 42px
    width 314px
    margin-left 2px
    margin-top 13px
    display block

#paginator
  position fixed !important
  width 100px
  height 200px
  bottom 100px
  right 0
  z-index 9

  a.page
    display block
    text-decoration none
    padding 5px 10px

  a.page:hover, a.active
    text-decoration none

//}}}
//{{{ Background layer
img.bg
  position fixed
  height 100%
  width 100%
  z-index 0
  left 0
  display none
  top 300px
img.bg.active
  top 0!important
  transition top .3s
  z-index 1!important
  //transition opacity .8s ease-out
  //opacity 1
  //display block
//}}}

// vim:fdm=marker
