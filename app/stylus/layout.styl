@import 'common'

// XXX below defines the layout's skeleton
// XXX decoration & embellishments belong in the theme.styl
// XXX eventually each forum will have its own theme.{styl,css}

header-height = 50px

body
  grid(90%,100%)
  overflow visible!important
  a
    cursor pointer
  .scroll-to-top
    cursor pointer

//{{{ Structure applied after body scrolls
body.expanded header
  .menu
    .row
      line-height 30px!important
      font-size 15px!important
body.has-scrolled
  header
    height 30px
    .container
      .logo
        font-size 1.1em
      .menu
        .row:hover
          .submenu
            top 33px
        .row
          line-height 30px
          font-size 15px
      .search
        top 0!important
        right 0!important
        .query
          font-size .9em
          width 340px!important
          height 12px
  .left
    .user-profile
      left 0px!important
  footer
    opacity 1
    font-size .85em
    bottom -10px
    line-height 16px
//}}}

//{{{ Background layer
img.bg
  position fixed
  height 100%
  width 100%
  z-index 0
  left 0!important
  visibility hidden
  top 0
img.bg.visible
  visibility visible
img.bg.active
  top 0!important
  z-index 1!important
  transition top .3s ease-out
  visibility visible
//}}}
//{{{ Header
body.expanded
  section.content .container
    padding 110px 20px 20px 20px
    transition padding .3s ease-out
  header
    height 100px!important
    transition background-color .25s ease-out, height .2s ease-out
    .container
      .search
        top 5px!important
        right auto!important
        #query.query
          position relative
          z-index 9
          font-size 31px
          padding 5px 20px
          letter-spacing 3px
          font-weight 100
          height 51px
          width 500px!important
      .advanced
        display block
        position absolute
        right 20px
        top 20px
  header:after
    cursor pointer
    position absolute
    right 17px
    bottom 8px
    content 'x'

header
  position fixed
  height header-height
  z-index 7
  .container
    width 800px
    margin 0 auto
    .menu
      margin -3px auto 0 auto
      display inline-block
      position absolute
      bottom 0
      .row:hover
        z-index 7
        .submenu
          visibility visible
          top 50px
          transition top .1s ease-out .2s
      .row
        cursor pointer
        display inline-block
        line-height header-height
        font-size 16px
        .title
          position relative
          z-index 10
        .submenu
          z-index 9
          top -500px
          visibility hidden
          margin 0 0 0 2px
          position absolute
          .row
            display block
    .search
      top 10px
      right 12px
      position absolute 
      .query
        width 300px
    .advanced
      display none
//}}}
//{{{ Left side
section.left
  z-index 6
  top 80px
  width 175px
  position fixed
  .user-profile
    position absolute
    top 35px
    left 0
    width 140px
    height 300px
    .photo
      overflow hidden
      margin-bottom 5px
      width 140px
      height 100px
      img
        width 100%
  .scroll-to-top
    position absolute
    right 5px
    bottom 0
    
//}}}
//{{{ Main Content
.col1
  width 425px
.col2
  width 425px
.content
  z-index 5
  .container
    margin 0 auto 0 160px!important
    .forum
      position relative
      clear both
      .header
        width 100%
        .description
          overflow hidden
          text-overflow ellipsis
          width 50%
      .container
        padding 0!important
        margin 0!important
        z-index 3
        .post:hover
          transform translateY(-15px)
          transition all .2s ease-out 1.75s
          .comment
            height 30px
            transition height .2s ease-out 2.1s
        .post
          float left
          margin 10px
          .photo
            float left
            width 25px
            img
              width 100%
        .comment 
          margin-top 2px
          padding 3px 7px
          height 0
          .msg
            font-size .9em
            font-style italic
            width 70%
        .subpost
          position relative
          .photo
            overflow hidden
            width 40px
            float left
            img
              width 100%
    .scroll-to-top
      clear both
//}}}
//{{{ Footer
footer
  text-align center
  position fixed
  bottom 0
  right 0
  left 0
  height 30px
  z-index 5
//}}}

//{{{ RESPONSIVEness
@media screen and (max-width: 800px)
  body
    grid(100%,475px)
  header
    height 30px
    .logo
      font-size 1.1em!important
      margin-top 4px!important
    .menu
      .row
        line-height 30px!important
    .search
      float right!important
      position relative!important
      top 0!important
      right 0!important
      .query
        height 9px
  
@media screen and (max-width: 500px)
  .content
    .container
      margin-left 0!important
      padding 25px 15px!important
      .forum
        margin-bottom 10px!important
  .has-scrolled
    .content
      .container
        margin-left 0!important
        padding 25px 15px!important
    .left
      display none!important
  body
    grid(100%,320px)
  header
    font-size 0.8em
    display none
// }}}
// vim:fdm=marker
