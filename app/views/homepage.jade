extend layout

mixin post(p, i)
 .post(class=(i % 2) ? 'odd' : 'even')
    span.username= p.user.name
    span.date= p.date
    p.message= p.message

mixin topic(t, i)
  .topic(class=(i % 2) ? 'odd' : 'even')
    h5.title= t.title
      span.date Created #{t.date}
    each p,i in t.posts
      mixin post(p, i)


//- main
//- ---------
block header
  h1.logo Power
    strong Bulletin
  block categories
    //- TODO customizable categories & topics for this bulletin
    menu.menu
      li.row.active Category
        menu.submenu
          li.row Topic
          li.row Topic
          li.row Topic
      li.row Category2
        menu.submenu
          li.row Topic
          li.row Topic
      li.row Category3
        menu.submenu
          li.row Topic
          li.row Topic
          li.row Topic
          li.row Topic
  .search
    input#query.query(type='text', placeholder='Search')

block user-profile
  | User Profile HERE

block content-stream
  each t,i in topics
    mixin topic(t, i)

block user-stream
  | User Stream HERE

block footer
  h6 &copy; #{site_name} &nbsp;
    b= new Date().getFullYear()
