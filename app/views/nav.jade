
mixin forum(f, i)
  h3.title Forums
    //-a.mutant(href=f.slug)= f.title
  if f.forums
    ul.forum(class="#{f.classes || ''} forum-#{activeForumId}")
      each sf,ii in f.forums
        mixin subforum(f, sf, ii)

mixin subforum(f, sf, i)
  //-.subforum(class="#{(i % 2) ? 'odd' : 'even'}")
  li
    a.title(href="#{sf.slug}")= sf.title

mixin thread(f, t, i)
  li
    h4.title
      a(href="#{f.slug}/#{t.title.replace(/\W+/g, '-')}-#{t.id}")= t.title

//- main
//- ---------
if forums
  each f,i in forums
    mixin forum(f, i)

//-if threads
//-  each t,i in threads
//-    mixin thread(t, i)

h3.title Threads
.create
  a(class='button onclick-add-post-dialog') Create Thread

if forums
  each f,i in forums
    if f.posts
      ul.threads
        each t,ii in f.posts
          mixin thread(f, t, ii)

//- vim:fdm=marker
